@model EditProductVM
@{
    ViewData["Title"] = "Редагування";
}

<div>
    <h2 class="text-center">Редагування товару</h2>

    <div class="w-50 mx-auto px-5 py-2" style="background-color: whitesmoke;">
        <form method="post" enctype="multipart/form-data" asp-controller="Shop" asp-action="Edit">
            @Html.AntiForgeryToken()
            <input type="hidden" asp-for="Id" />

            <div>
                <label class="form-label mt-4">Назва</label>
                <input asp-for="Name" class="form-control" placeholder="RTX 4090" />
                <span asp-validation-for="Name" class="mx-2 text-danger" style="font-size: 12px;"></span>
            </div>

            <div>
                <label class="form-label mt-4">Опис</label>
                <input asp-for="Description" class="form-control" placeholder="Опис товару" />
                <span asp-validation-for="Description" class="mx-2 text-danger" style="font-size: 12px;"></span>
            </div>

            <div>
                <label class="form-label mt-4">Категорія</label>
                <select asp-for="CategoryId" asp-items="Model.SelectItems" class="form-select">
                    <option value="">— Без категорії —</option>
                </select>
            </div>

            @if (!string.IsNullOrWhiteSpace(Model.ExistingImage))
            {
                <div class="mt-3">
                    <div class="mb-2">Поточне зображення:</div>
                    <img src="~/images/products/@Model.ExistingImage" style="max-width: 220px; border-radius: 8px;" />
                </div>
            }

            <div>
                <label class="form-label mt-4">Нове зображення (не обов’язково)</label>
                <input asp-for="Image" type="file" accept="image/*" class="form-control" />
                <span asp-validation-for="Image" class="mx-2 text-danger" style="font-size: 12px;"></span>
            </div>

            <div>
                <label class="form-label mt-4">Ціна (грн)</label>
                <input asp-for="Price" min="0" type="number" class="form-control" />
                <span asp-validation-for="Price" class="mx-2 text-danger" style="font-size: 12px;"></span>
            </div>

            <div class="my-4 d-flex justify-content-center">
                <button class="btn btn-success mx-2 w-25" type="submit">Зберегти</button>
                <a asp-action="Index" class="btn btn-dark mx-2 w-25">Повернутися</a>
            </div>
        </form>
    </div>
</div>

